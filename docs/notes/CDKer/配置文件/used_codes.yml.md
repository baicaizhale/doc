---
title: used_codes.yml
createTime: 2025/07/03 12:45:29
permalink: /notes/CDKer/配置文件/used_codes.yml/
---
### `used_codes.yml`

`used_codes.yml` 文件是 CDKer 插件内部用于**追踪和记录玩家一次性礼品码使用情况**的专用数据文件。此文件的主要目的是确保 `single` (一次性) 类型的礼品码不会被同一个玩家重复兑换。

**文件用途**:

* **防止重复使用**: 每当一个玩家成功兑换一个 `type: "single"` 的礼品码时，插件会在 `used_codes.yml` 中记录该玩家的名称与所使用的礼品码 ID。

* **数据结构**: 文件内部结构通常是玩家名称作为顶级键，其下嵌套着已使用礼品码的列表或布尔标记。例如：

  ```yaml
  # 玩家礼品码使用记录
  playername1:
    CDK_CODE_A: true
    CDK_CODE_B: true
  playername2:
    CDK_CODE_A: true
  ```

**重要提示**:

* **自动管理**: 此文件完全由 CDKer 插件自动创建、读取和写入。
* **不建议手动编辑**: **强烈不建议**服务器管理员直接手动编辑 `used_codes.yml` 文件。手动修改可能导致数据不一致、玩家兑换状态混乱，甚至引发插件错误。如果需要重置某个玩家的礼品码使用记录，应通过插件提供的管理命令（如果有）或在插件禁用状态下进行谨慎操作。
* **文件生成**: 在插件首次运行时，如果 `used_codes.yml` 不存在，插件会自动生成一个空文件。
* **数据持久化**: 插件会在服务器关闭或执行 `/cdk reload` 命令时，将内存中的使用记录保存到此文件中，确保数据持久化。